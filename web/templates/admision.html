{% extends 'index-app.html' %}
{% load static %}
{% block content %}

<!-- MENU -->
<nav id="colorlib-main-nav" role="navigation">
	<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle active"><i></i></a>
	<div class="js-fullheight colorlib-table">
		<div class="colorlib-table-cell js-fullheight">
			<ul>
				<li><a href="{% url 'web:inicio' %}" style="height: 120px">INICIO</a></li>
				<li><a href="{% url 'web:obras' %}" style="height: 120px">OBRAS</a></li>
                <li>
                    <a href="{% url 'web:escuela' %}" style="height: 120px">ESCUELA</a>
                </li>
				<li><a href="{% url 'web:compania' %}"   style="height: 120px">COMPAÑIA</a></li>
				<li><a href="{% url 'web:contacto' %}" style="height: 120px">CONTACTO</a></li>
			</ul>
		</div>
	</div>
</nav>

<!--Modal: Name-->
<div class="modal fade" id="m-admision" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLabel">Recibe más Información aquí</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="f-malla" action="{% url 'web:enviar_malla' %}" role="form" method="post">
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Email:</label>
            <input name='m-email' type="text" class="form-control" id="recipient-name">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="button" onclick='enviar_malla()' class="btn btn-primary">Enviar</button>
      </div>
    </div>
  </div>
</div>
<!--Modal: Name-->



<div id="colorlib-page" class="a-admin modalidades" >
	<header>
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="colorlib-navbar-brand">
						<a href="{% url 'web:inicio' %}"> <img src="{% static 'images/logo.png' %}" alt="Antagonista" style="height:100px; width:166px;"> </a>
					</div>
					<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
				</div>
			</div>
		</div>
	</header>
	<div class="container">
		<div class="row">
			<div class="span-admin banner" style="background-image: url('/static/images/cover_adm_1.jpg');background-position: center;width: 100%">
				<div style="background-color: rgba(0, 0, 0, 0.40);width: 100%;margin: 0px !important;padding: 60px 0;">
					<div class="span-admin boxer" style="" data-widget-type="cell" data-x="0" data-w="12">
						<div class="row">
							<div class="col-md-12">
								<div class="span-admin widget-span widget-type-custom_widget " style="" data-widget-type="custom_widget" data-x="0" data-w="12">
									<div class="span-admin">
									  <!-- <img class="logo-modalidades" src="{% static 'images/logo.png' %}" alt="" width="190" style="width: 190px;"> -->
										<div class="span-admin" style="margin-left: 17px;margin-top: 129px;">
									    <div class="tit-carrera">
									      <h1><span> Actuación Teatral </span></h1>
									    </div>
								  	</div>
										<div style="margin-left:14px;margin-top: 20px;">
											<button id="btn-admision" onclick="descargar_malla()" class="btn-malla">DESCARGAR MALLA</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
	  		</div>
			</div>
		</div>
	</div>

	<div id="colorlib-contact">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="col-md-7 animate-box">
						<h4>Nuestra Dirección</h4>
						<ul class="contact-info">
							<li><i class="icon-map5"></i><span>Agustinas 1817 Barrio Brasil Santiago Centro</span></li>
							<li><i class="icon-phone4"></i><span>+ 56  63940222</span></li>
							<li><i class="icon-envelope2"></i><span> contacto@teatrodelantagonista.cl</span>
							<li><i class="icon-globe3"></i><a href="http://www.teatrodelantagonista.cl">www.teatrodelantagonista.cl</a></li>
						</ul>
					</div>
					<!-- Formulario -->
					<div class="col-md-4 animate-box formulario" style="margin: -115px 18px;">
						<div class="row">
							<h3 id="t-admision" class="hs_cos_wrapper form-title" data-hs-cos-general-type="widget_field" data-hs-cos-type="text">INFÓRMATE MÁS AQUÍ</h3>
							<form id="f-admision" action="{% url 'web:registrar' %}" role="form" method="post">
								<div class="col-md-6">
									<div class="form-group">
										<input id="admin-nombre" name="a-nombre" type="text" class="form-control" placeholder="Nombre">
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<input id="admin-apellod" name="a-apellido" type="text" class="form-control" placeholder="Apellido">
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<input id="admin-email" name="a-email"  type="mail" class="form-control" placeholder="Email">
									</div>
								</div>
								<div class="col-md-12">
									<div class="form-group pull-right">
										<input type="submit" value="Enviar Mensaje" class="btn btn-primary">
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

</div>

<style>

	/* #colorlib-contact {
	    padding: 55px 0 !important;
	} */

	.formulario {
    box-shadow: 0px 0px 15px #8888886b;
	}

	.form-title {
    text-align: center;
    font-size: 28px;
    background: #ff036b;
    color: #fff;
    padding: 15px 0;
	}

  .container {
      position: relative;
      width: 100%;
      clear: both;
      margin-right: 0;
      margin-left: 0;
  }


	.btn-malla {
  	color: #fff;
  	border-radius: 25px;
  	border: 0px;
  	text-transform: uppercase;
  	font-size: 12px;
    background: #ff036b;
  	float: left;
    padding: 7px 25px;
    margin-right: 10px;
    margin-bottom: 15PX;
    cursor: pointer;
	}

	.modalidades .boxer {
  	width: 100%;
	}

	.a-admin h1 {
    line-height: 42px !important;
    margin: 0 !important;
    margin-bottom: 50px !important;
	}

	.tit-carrera h1 span {
    background-color: #de5b15;
    padding: 0px 5px 5px;
    text-transform: uppercase;
		font-size: 42px !important;
		color: #fff !important;
		font-weight: 600 !important;
	}

	.banner {
	  padding: 0px 0;
	  background-size: cover !important;
	  background-position: center;
	}

</style>

{% endblock %}

{% block script %}

<script>
	$(document).ready(function() {
		validar_adminision();
		valida_malla();
	});

	function descargar_malla(){
		$('#m-admision').modal('show')
	}

	function enviar_malla(){
		console.log('enviar_malla')
		$('#f-malla').submit();
	}

	function validar_adminision() {
    $("#f-admision").validate({
        'rules': {
          'a-nombre': {
              'required': true,
          },
          'a-apellido': {
              'required': true,
          },
          'a-email': {
              'required': true,
              'email': true,
          },
        },
        errorPlacement: function(error, element) {
            console.log('errorPlacement')
            element.closest(".form-group").find('.container-error').html('')
            error.appendTo(element.closest(".form-group").find('.container-error'));
        },
        submitHandler: function(form) {

            $("#f-admision").ajaxSubmit({
                dataType: 'json',
                beforeSend: function() {
									console.log('beforeSend')
                    // loading({
                    //     active: true,
                    //     description: 'Editando empresa.'
                    // })
                },
                success: function(response) {
									console.log(response)
                  // loading({active: false})

                },
                error: function(data, a, t) {
										console.log(data)
                    // loading({active: false})
                    // notification_toastr({
                    //     title: 'Empresa',
                    //     message: 'Ocurrio un error, contactarse con el administrador',
                    //     type: 'error'
                    // })
                }
            });
        }
    });
	}

	function valida_malla(){
		console.log('valida_malla')
		$("#f-malla").validate({
        'rules': {
          'm-email': {
              'required': true,
              'email': true,
          },
        },
        errorPlacement: function(error, element) {
            console.log('errorPlacement')
            element.closest(".form-group").find('.container-error').html('')
            error.appendTo(element.closest(".form-group").find('.container-error'));
        },
        submitHandler: function(form) {

            $("#f-malla").ajaxSubmit({
                dataType: 'json',
                beforeSend: function() {
									console.log('beforeSend')
                    // loading({
                    //     active: true,
                    //     description: 'Editando empresa.'
                    // })
                },
                success: function(response) {
									console.log(response)
                  // loading({active: false})

                },
                error: function(data, a, t) {
										console.log(data)
                    // loading({active: false})
                    // notification_toastr({
                    //     title: 'Empresa',
                    //     message: 'Ocurrio un error, contactarse con el administrador',
                    //     type: 'error'
                    // })
                }
            });
        }
    });
	}

</script>



{% endblock %}
